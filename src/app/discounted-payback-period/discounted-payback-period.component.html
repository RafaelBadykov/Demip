<mat-card align="center" [formGroup]="values">
  <p>
    <mat-form-field appearance="outline">
      <mat-label>Норма или ставка дисконта</mat-label>
      <label>
        <input matInput formControlName="discountRate" type="number" [(ngModel)]="discountRate">
      </label>
    </mat-form-field>
  </p>
  <p>
    <mat-form-field appearance="outline">
      <mat-label>Годовая прибыль</mat-label>
      <label>
        <input matInput formControlName="netProfit" type="number" [(ngModel)]="netProfit">
      </label>
    </mat-form-field>
  </p>
  <p>
    <mat-form-field appearance="outline">
      <mat-label>Разовая инвестиция</mat-label>
      <label>
        <input matInput formControlName="investedCapital" type="number" [(ngModel)]="investedCapital">
      </label>
    </mat-form-field>
  </p>

  <button *ngIf="values.valid"
          style="margin-bottom: 20px"
          mat-raised-button color="primary"
          (click)="calculate()">
    Вычислить
  </button>

</mat-card>
<mat-card style="align-items: center;
    display: flex;
    flex-direction: column;" *ngIf="isNormalValue(result) && values.valid && !showErrorNotification">
  <button
    mat-raised-button color="primary">
    Результат: Дисконтированный период окупаемости равен {{this.result}}
  </button>
</mat-card>

<mat-card style="align-items: center;
    display: flex;
    flex-direction: column;" *ngIf="showErrorNotification">
  <button
    mat-raised-button color="warn">
    Ошибка: Деление на ноль.
  </button>
</mat-card>
<mat-card>
  <mat-card-title>Дисконтированный период окупаемости</mat-card-title>
  <mat-card-content>
    <p>Простой период окупаемости определяется по формуле
      <img src="assets/images/dpp04.png" alt="img" style="vertical-align:middle">
      без учета временного дисконта. Для проектов с большим сроком
      реализации необходимо рассчитывать дисконтированный период
      окупаемости. Рассмотрим аналитический и графический методы
      его определения.
      Инвестиционный проект окупится, если дисконтированная прибыль будет больше или равна инвестициям:
      <img src="assets/images/dpp01.png" alt="img" style="vertical-align:middle">
      где DPP (Discounted Payback Period) – дисконтированный период
      окупаемости. В случае равенства в выражении для расчета
      DPP используется следующая формула:
      <img src="assets/images/dpp02.png" alt="img" style="vertical-align:middle">
      Дисконтированный период окупаемости можно определить и
      графическим методом. Для этого сопоставим выражению
      систему уравнений:
      <img src="assets/images/dpp03.png" alt="img" style="vertical-align:middle">
      Отложим по оси x годы реализации проекта, а по оси y – накапливаемые денежные средства. Первое уравнение из
      системы описывает прямую, перпендикулярную оси y, соответствующую
      капитальным вложениям IC. Второе уравнение отражает накопленный дисконтированный доход за n лет. С ростом n будет расти
      и доход, изображаемый точкой на графике. Соединив точки, соответствующие различным годам, мы получим кривую роста
      дисконтированных денежных потоков во времени. Кривая роста будет
      иметь точку пересечения с прямой капитальных вложений, а абсцисса этой точки будет соответствовать
      дисконтированному периоду окупаемости проекта.
    </p>
  </mat-card-content>
</mat-card>
